@tailwind base;
@tailwind components;
@tailwind utilities;

/* Responsive background image class */
@layer components {
  .responsive-bg-image {
    background-size: cover;
  }

  @media (max-width: 768px) {
    .responsive-bg-image {
      background-size: contain;
    }
  }
}


body {
  font-family: "Inter", sans-serif; /* Using Inter for a clean modern look */
}

/* RTL base styles */
[dir="rtl"] {
  direction: rtl;
}
[dir="rtl"] * {
  text-align: right;
}

@layer base {
  :root {
    --background: 240 10% 98%; /* Soft off-white */
    --foreground: 240 10% 10%; /* Dark grey */
    --card: 0 0% 100%; /* White */
    --card-foreground: 240 10% 10%; /* Dark grey */
    --popover: 0 0% 100%; /* White */
    --popover-foreground: 240 10% 10%; /* Dark grey */
    --primary: 300 100% 50%; /* Magenta */
    --primary-foreground: 0 0% 100%; /* White */
    --secondary: 240 5% 92%; /* Lighter grey */
    --secondary-foreground: 240 10% 20%; /* Slightly lighter dark grey */
    --muted: 240 5% 90%; /* Slightly darker grey */
    --muted-foreground: 240 5% 45%; /* Mid grey */
    --accent: 300 100% 95%; /* Light Magenta Tint */
    --accent-foreground: 300 100% 50%; /* Magenta */
    --destructive: 0 84.2% 60.2%; /* Default Red */
    --destructive-foreground: 0 0% 98%; /* White */
    --border: 240 5% 85%; /* Light grey border */
    --input: 240 5% 95%; /* Lighter input background */
    --ring: 300 100% 50%; /* Magenta ring */
    --chart-1: 300 76% 61%;
    --chart-2: 200 58% 39%;
    --chart-3: 250 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 0 0% 100%; /* White sidebar */
    --sidebar-foreground: 240 10% 10%; /* Dark grey text */
    --sidebar-primary: 300 100% 50%; /* Magenta primary */
    --sidebar-primary-foreground: 0 0% 100%; /* White */
    --sidebar-accent: 300 100% 95%; /* Light Magenta accent */
    --sidebar-accent-foreground: 300 100% 50%; /* Magenta */
    --sidebar-border: 240 5% 85%; /* Light grey border */
    --sidebar-ring: 300 100% 50%; /* Magenta ring */
  }

  .dark {
    /* Dark mode colors */
    --background: 240 10% 10%; /* Dark background */
    --foreground: 240 10% 98%; /* Light foreground */
    --card: 240 10% 15%; /* Dark card */
    --card-foreground: 240 10% 98%; /* Light foreground */
    --popover: 240 10% 15%; /* Dark popover */
    --popover-foreground: 240 10% 98%; /* Light foreground */
    --primary: 300 100% 60%; /* Brighter Magenta */
    --primary-foreground: 0 0% 100%; /* White */
    --secondary: 240 5% 20%; /* Darker grey */
    --secondary-foreground: 240 10% 90%; /* Lighter grey */
    --muted: 240 5% 25%; /* Even darker grey */
    --muted-foreground: 240 5% 65%; /* Mid-light grey */
    --accent: 300 100% 20%; /* Dark Magenta Tint */
    --accent-foreground: 300 100% 60%; /* Brighter Magenta */
    --destructive: 0 62.8% 30.6%; /* Dark Red */
    --destructive-foreground: 0 0% 98%; /* White */
    --border: 240 5% 30%; /* Dark border */
    --input: 240 5% 20%; /* Dark input background */
    --ring: 300 100% 60%; /* Brighter Magenta ring */
    --chart-1: 300 70% 50%;
    --chart-2: 200 60% 45%;
    --chart-3: 250 80% 55%;
    --chart-4: 40 65% 60%;
    --chart-5: 20 75% 55%;
    --sidebar-background: 240 10% 15%; /* Dark sidebar */
    --sidebar-foreground: 240 10% 98%; /* Light text */
    --sidebar-primary: 300 100% 60%; /* Brighter Magenta primary */
    --sidebar-primary-foreground: 0 0% 100%; /* White */
    --sidebar-accent: 300 100% 20%; /* Dark Magenta accent */
    --sidebar-accent-foreground: 300 100% 60%; /* Brighter Magenta */
    --sidebar-border: 240 5% 30%; /* Dark border */
    --sidebar-ring: 300 100% 60%; /* Brighter Magenta ring */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Navigation bar height utilities */
@layer utilities {
  /* Utility for accounting for top navigation */
  .main-content {
    min-height: calc(100vh - 4rem); /* 4rem = 64px top navigation height */
  }

  /* Utility for full height content accounting for navigation */
  .content-height {
    height: calc(100vh - 4rem);
  }

  /* Utility for dialog max height to prevent overflow */
  .dialog-content {
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
  }

  /* Utility for mobile-friendly dialog heights */
  .dialog-mobile {
    max-height: calc(100vh - 1rem);
    overflow-y: auto;
  }
}

/* Add React Flow styles */

/* Ensure React Flow elements adapt to dark mode */
.dark .react-flow__background {
  background-color: hsl(var(--background));
}

.dark .react-flow__minimap {
  background-color: hsl(var(--card));
}

.dark .react-flow__controls button {
  background-color: hsl(var(--card));
  border-color: hsl(var(--border));
  color: hsl(var(--card-foreground));
}
.dark .react-flow__controls button:hover {
  background-color: hsl(var(--muted));
}

/* Adjust custom node colors for dark mode if needed, or rely on HSL variables */
.dark .bg-purple-100 {
  background-color: hsl(270 50% 25% / 0.8);
} /* Example dark adaptation */
.dark .border-purple-400 {
  border-color: hsl(270 60% 60% / 0.8);
}
.dark .text-purple-900 {
  color: hsl(270 90% 90%);
}

.dark .bg-blue-100 {
  background-color: hsl(210 50% 25% / 0.8);
}
.dark .border-blue-400 {
  border-color: hsl(210 60% 60% / 0.8);
}
.dark .text-blue-900 {
  color: hsl(210 90% 90%);
}

.dark .bg-green-100 {
  background-color: hsl(140 40% 20% / 0.8);
}
.dark .border-green-400 {
  border-color: hsl(140 50% 50% / 0.8);
}
.dark .text-green-900 {
  color: hsl(140 80% 85%);
}

.dark .bg-yellow-100 {
  background-color: hsl(45 60% 20% / 0.8);
}
.dark .border-yellow-400 {
  border-color: hsl(45 70% 50% / 0.8);
}
.dark .text-yellow-900 {
  color: hsl(45 90% 85%);
}

.dark .bg-pink-100 {
  background-color: hsl(330 50% 25% / 0.8);
}
.dark .border-pink-400 {
  border-color: hsl(330 60% 60% / 0.8);
}
.dark .text-pink-900 {
  color: hsl(330 90% 90%);
}

.dark .bg-indigo-100 {
  background-color: hsl(230 50% 25% / 0.8);
}
.dark .border-indigo-400 {
  border-color: hsl(230 60% 60% / 0.8);
}
.dark .text-indigo-900 {
  color: hsl(230 90% 90%);
}

/* Adjust selected colors for dark mode */
.dark .ring-purple-500 {
  --tw-ring-color: hsl(270 60% 70%);
}
.dark .bg-purple-200 {
  background-color: hsl(270 50% 35% / 0.9);
}
.dark .border-purple-500 {
  border-color: hsl(270 60% 70% / 0.9);
}

.dark .ring-blue-500 {
  --tw-ring-color: hsl(210 60% 70%);
}
.dark .bg-blue-200 {
  background-color: hsl(210 50% 35% / 0.9);
}
.dark .border-blue-500 {
  border-color: hsl(210 60% 70% / 0.9);
}

.dark .ring-green-500 {
  --tw-ring-color: hsl(140 50% 60%);
}
.dark .bg-green-200 {
  background-color: hsl(140 40% 30% / 0.9);
}
.dark .border-green-500 {
  border-color: hsl(140 50% 60% / 0.9);
}

.dark .ring-yellow-500 {
  --tw-ring-color: hsl(45 70% 60%);
}
.dark .bg-yellow-200 {
  background-color: hsl(45 60% 30% / 0.9);
}
.dark .border-yellow-500 {
  border-color: hsl(45 70% 60% / 0.9);
}

.dark .ring-pink-500 {
  --tw-ring-color: hsl(330 60% 70%);
}
.dark .bg-pink-200 {
  background-color: hsl(330 50% 35% / 0.9);
}
.dark .border-pink-500 {
  border-color: hsl(330 60% 70% / 0.9);
}

.dark .ring-indigo-500 {
  --tw-ring-color: hsl(230 60% 70%);
}
.dark .bg-indigo-200 {
  background-color: hsl(230 50% 35% / 0.9);
}
.dark .border-indigo-500 {
  border-color: hsl(230 60% 70% / 0.9);
}

/* Draggable handle styling */
.chatbox-drag-handle,
.properties-panel-drag-handle {
  cursor: grab;
}
.chatbox-drag-handle:active,
.properties-panel-drag-handle:active {
  cursor: grabbing;
}

/* Resizable Chatbox (Basic Example) */
/* You might need more specific styles or JavaScript for advanced resizing handles */
.resizable-chat {
  resize: both; /* Enable browser's native resize */
  overflow: auto; /* Important for resize to work */
  min-width: 300px; /* Example minimums */
  min-height: 200px;
  max-width: 90vw; /* Example maximums */
  max-height: 80vh;
}

/* Flipbook container styling */
.flipbook {
  margin: 0 auto;
}

/* Page styling */
.page {
  background-color: white;
  border: 1px solid #ccc;
  overflow: hidden;
}

.page-cover {
  background-color: #333;
  color: white;
}

/* Shadow effect for pages */
.page-shadow {
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
}

/* Responsive background image handling */
.responsive-bg-image {
  background-size: cover;
}

/* Mobile responsive - use contain to prevent cropping */
@media (max-width: 768px) {
  .responsive-bg-image {
    background-size: contain;
  }
}

/* Very small screens - ensure content visibility */
@media (max-width: 480px) {
  .responsive-bg-image {
    background-size: contain;
  }
}
